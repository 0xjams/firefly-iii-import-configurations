# DKB

In 2023 DKB has launched their new banking platform. CSV Exports from the new UI are in a different format and require a new import configuration: `csv-giro.json`

CSV exports from the old website can be processed using `csv-giro-legacy.json`.

**Both formats require fixing the CSV file before using the importer. Read on below.**

If you are unsure if your CSV file is legacy or not, look at the beginning of the file. New files start like this:

```

""
"Kontostand vom 16.02.2024:";"100,00 EUR"
""
```

Legacy files start like this:

```
"Kontonummer:";"DE00000000000000000000 / Girokonto";

"Von:";"16.01.2024";
"Bis:";"16.02.2024";
"Kontostand vom 16.02.2024:";"100,00 EUR";

```

If you feel comfortable with how the imports work you can set `skip_form` to `true` in your local copy of the configuration to save a few clicks. By default the form is presented so that you can double-check the configuration before you perform your first import.

## Fix new CSV

You only have the remove the first 4 lines of the CSV file. They only contain information about your account and because the number of delimiters does not match the number of the following lines, the Data Importer will throw an error (besides the fact that importing account information makes no sense). The first line in the CSV file needs to be the one beginning with `"Buchungsdatum";"Wertstellung";...`.

## Fix legacy CSV

1. CSV files generated by DKB don't use UTF-8. You need to convert to UTF-8 before using the Data Importer. For example, on Windows you can do this with Notepad++ (*Encoding &rightarrow; Convert to UTF-8*).

2. You need to remove the first few lines (usually the first 6) of the CSV file. They only contain information about your account and because the number of delimiters does not match the number of the following lines, the Data Importer will throw an error (besides the fact that importing account information makes no sense). So make sure you only have a single header line (usually starts with `Buchungstag`).

3. You need to remove your credit card bill transaction from either your checking account CSV or your credit card CSV. Otherwise the transfer will be imported twice into Firefly III.

4. You should remove the fake transaction labelled `Abschluss`. It appears on the first of every month and only displays the current account balance. Because the format is not a valid transaction, the Data importer will throw an error on this line. This is optional because the error does not do any harm besides showing up.

If you wish to automate these steps, have a look at [Firefly III DKB CSV Fixer](https://github.com/MadWalnut/firefly-iii-dkb-csv-fix). It can apply all needed changes to your CSV file with a single command or click. This only works for legacy files!